<script>
function startListening() {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  const recognition = new SpeechRecognition();
  recognition.lang = "ar-SA";

  recognition.onresult = function(event) {
    const speech = event.results[0][0].transcript;

    let reply = "لم أفهم سؤالك";

    if (speech.includes("اسمك")) {
      reply = "اسمي نيكو";
    } else if (speech.includes("مرحبا")) {
      reply = "أهلا وسهلا بك";
    } else if (speech.includes("كيف حالك")) {
      reply = "أنا بخير، ماذا تريد أن أفعل؟";
    }

    document.getElementById("text").innerText = reply;
    speak(reply);
  };

  recognition.start();
}

function speak(msg) {
  const speech = new SpeechSynthesisUtterance(msg);
  speech.lang = "ar-SA";
  window.speechSynthesis.speak(speech);
}
</script>
